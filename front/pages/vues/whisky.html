<div class="mainBody col-10" id="MainBody">
    <div class="row mt-4">
        <div class="col-8">
        <div id="vueProduit">
        </div>
        </div>
        <div class="col-4 mr-2">
            <div class="nav-produits bg-dark text-white p-3 w-100">
            <div class="ms-4">
                <h4 class="fw-bold">Produits</h4>
            </div>
            <hr>
            <div class="d-inline-flex flex-column justify-content-center mt-3 w-100">
                <table class="table">
                <tbody>
                    <tr>
                    <td style="cursor:pointer" class="text-light" onclick="afficherProduit(1)">Produit 1</td>
                    <td><button type="button" class="btn btn-light" data-bs-toggle="modal" data-bs-target="#exampleModal" data-bs-whatever="@id:">Modifier</button>
                    <td><button type="button" class="btn btn-light"onclick="supprimer()">Supprimer</button>
                    </td>
                    </tr>
                    <tr>
                    <td style="cursor:pointer" class="text-light">Produit 1</td>
                    </tr>
                    <tr>
                    <td class="text-light">Produit 1</td>
                    </tr>
                    <tr>
                    <td class="text-light">Produit 1</td>
                    </tr>
                    <tr>
                    <td class="text-light">Produit 1</td>
                    </tr>
                    <tr>
                    <td class="text-light">Produit 1</td>
                    </tr>
                </tbody>
                </table>
            </div>
            <div class="d-inline-flex justify-content-center w-100">
                <td><button type="button" class="btn btn-light" data-bs-toggle="modal" data-bs-target="#exampleModal" data-bs-whatever="@id:">Ajouter un produit</button></div>
        </div>
        </div>
    </div>
</div>

<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Modifier</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            <form>
            <div class="mb-3">
                <label for="recipient-name" class="col-form-label">Nom:</label>
                <input type="text" class="form-control" id="recipient-name">
            </div>
            <div class="mb-3">
                <label for="message-text" class="col-form-label">Libelle:</label>
                <textarea class="form-control" id="message-text"></textarea>
            </div>
            <div class="mb-3">
                <label for="description" class="col-form-label">Description:</label>
                <textarea class="form-control" id="escription"></textarea>
            </div>
            <div class="mb-3">
                <label for="prix" class="col-form-label">Prix:</label>
                <input type="number" class="form-control" id="prix" name="prix" >
            </div>
            <div class="mb-3">
                <label for="prixAchat" class="col-form-label">Prix d'achat:</label>
                <input type="number" class="form-control" id="prixAchat" name="parixAchat" >
            </div>
            <div class="mb-3">
                <label for="paysProvenance" class="col-form-label">Pays de provenance:</label>
                <input type="text" class="form-control" id="paysProvenance" name="paysProvenance" >
            </div>
            </form>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary">Valider</button>
        </div>
        </div>
    </div>
    </div>

<script>  
    function afficherProduit(id){
        $.get({
            url: '/whiskyVue',
            success: function(data){
                console.log("Success");
                $('#vueProduit').html( data );
            },
            dataType: 'html',
            error: function (xhr, ajaxOptions, thrownError) {
                console.log("Erreur");
                alert(chr.responseText); //Ce code affichera le message d'erreur, ici Message d'erreur.
            }
        });
    }
        
    var exampleModal = document.getElementById('exampleModal')
    exampleModal.addEventListener('show.bs.modal', function (event) {
        // Button that triggered the modal
        var button = event.relatedTarget
        // Extract info from data-bs-* attributes
        var recipient = button.getAttribute('data-bs-whatever')
        // If necessary, you could initiate an AJAX request here
        // and then do the updating in a callback.
        //
        // Update the modal's content.
        var modalTitle = exampleModal.querySelector('.modal-title')
        var modalBodyInput = exampleModal.querySelector('.modal-body input')

        modalTitle.textContent = 'New message to ' + recipient
        modalBodyInput.value = recipient
    })
</script>
